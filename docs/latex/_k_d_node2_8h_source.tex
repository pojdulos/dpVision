\doxysection{KDNode2.\+h}
\hypertarget{_k_d_node2_8h_source}{}\label{_k_d_node2_8h_source}\index{src/core/KDNode2.h@{src/core/KDNode2.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}Global.h"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <set>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}BoundingBox.h"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{using\ namespace\ }std;}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_c_mesh}{CMesh}};}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ \ }DPVISION\_EXPORT\ \mbox{\hyperlink{class_k_d_node2}{KDNode2}}\ \{}
\DoxyCodeLine{00013\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keyword}{typedef}\ map<int,\ std::pair<double,\ CPoint3d>>\ HitMap;}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ vidx;}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ HitMap\ fidxs;}
\DoxyCodeLine{00019\ \ \ \ \ \}\ \mbox{\hyperlink{struct_k_d_node2_1_1_shade_rec}{ShadeRec}};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{class_c_bounding_box}{CBoundingBox}}\ m\_bbox;}
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{class_k_d_node2}{KDNode2}}\ *m\_left;}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{class_k_d_node2}{KDNode2}}\ *m\_right;}
\DoxyCodeLine{00024\ \ \ \ \ vector<INDEX\_TYPE>\ m\_tris;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{class_k_d_node2}{KDNode2}}()\ :m\_left\{\ NULL\ \},\ m\_right\{\ NULL\ \},\ m\_tris(\ std::vector<INDEX\_TYPE>(0)\ ),\ m\_bbox(\ \mbox{\hyperlink{class_c_bounding_box}{CBoundingBox}}(\mbox{\hyperlink{class_c_bounding_box}{CBoundingBox}}::InvalidBB)\ )\ \{\};}
\DoxyCodeLine{00027\ \ \ \ \ \mbox{\hyperlink{class_k_d_node2}{\string~KDNode2}}();}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_c_bounding_box}{CBoundingBox}}\ createBB(\mbox{\hyperlink{class_c_mesh}{CMesh}}*\ mesh,\ INDEX\_TYPE\ face\_idxi);}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_c_bounding_box}{CBoundingBox}}\ createBB(\mbox{\hyperlink{class_c_mesh}{CMesh}}*\ mesh,\ std::vector<INDEX\_TYPE>\ tris);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_k_d_node2}{KDNode2}}*\ build(\mbox{\hyperlink{class_c_mesh}{CMesh}}*\ mesh,\ \textcolor{keywordtype}{int}\ maxTrisSize\ =\ 256);}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_k_d_node2}{KDNode2}}*\ build2(\mbox{\hyperlink{class_c_mesh}{CMesh}}*\ mesh,\ vector<INDEX\_TYPE>\&\ tris,\ \textcolor{keywordtype}{int}\ depth,\ \textcolor{keywordtype}{int}\ maxTrisSize);}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_k_d_node2}{KDNode2}}*\ build(\mbox{\hyperlink{class_c_mesh}{CMesh}}*\ mesh,\ \ vector<INDEX\_TYPE>\&\ tris,\ \textcolor{keywordtype}{int}\ depth,\ \textcolor{keywordtype}{int}\ maxTrisSize\ =\ 256);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{bool}\ hit(\mbox{\hyperlink{class_c_mesh}{CMesh}}\ *mesh,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_point3}{CPoint3d}}\ origin,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_vector3}{CVector3d}}\ dir,\ ShadeRec\ \&sr);}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{bool}\ hit(\mbox{\hyperlink{class_c_mesh}{CMesh}}*\ mesh,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_point3}{CPoint3d}}\ origin,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_vector3}{CVector3d}}\ dir,\ HitMap\&\ hmap,\ \textcolor{keywordtype}{long}\ vidx\ =\ -\/1);}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordtype}{bool}\ findCrossedBB(\mbox{\hyperlink{class_c_bounding_box}{CBoundingBox}}\ bb,\ \mbox{\hyperlink{class_c_mesh}{CMesh}}*\ mesh,\ std::set<INDEX\_TYPE>\ \&result);}
\DoxyCodeLine{00041\ \};}
\DoxyCodeLine{00042\ }

\end{DoxyCode}
